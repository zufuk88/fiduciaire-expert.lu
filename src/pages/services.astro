---
import Layout from '../layouts/Layout.astro';

// --- DONNÉES & SEO (INCHANGÉS) ---
// Votre structure de données et votre schéma JSON-LD sont excellents et conservés à l'identique.
const allServices = [
  {
    title: "Comptabilité Luxembourg BOB50 et logiciels pros",
    shortTitle: "Comptabilité Lux GAAP",
    description: "Tenue comptable professionnelle sur BOB 50, Horus ou Odoo. Bilans conformes eCDF, optimisation IRC/ICC/IF. Expert-comptable agréé pour PME luxembourgeoises.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /><path d="M9 14h6" /><path d="M9 17h6" /></svg>`,
    features: ["BOB50 & Sage certifiés", "Bilans conformes eCDF", "Déclarations TVA", "Tableaux de bord"],
    slug: "comptabilite-bob50-luxembourg",
    price: "Dès 299€ HTVA/mois",
    popular: true
  },
  {
    title: "Création de société au Luxembourg (RCS)",
    shortTitle: "Création de société (RCS)",
    description: "Création complète de votre société : SARL, SAS, SARL-S, SA ou SCI. Inclut la rédaction des statuts, l'immatriculation au RCSL et l'accompagnement bancaire.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 21h18" /><path d="M5 21v-14l8 -4v18" /><path d="M19 21v-10l-6 -4" /><path d="M9 9l0 .01" /><path d="M9 12l0 .01" /><path d="M9 15l0 .01" /></svg>`,
    features: ["Statuts notariés inclus", "Dépôt RCS automatique", "Délai rapide garanti", "Accompagnement bancaire"],
    slug: "creation-societe-rcs-luxembourg",
    price: "Budget 2200€ HTVA"
  },
  {
    title: "Domiciliation d'entreprise à Luxembourg",
    shortTitle: "Domiciliation",
    description: "Service de domiciliation prestigieux avec adresse de siège social conforme, gestion du courrier et accès à des salles de réunion.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5" /></svg>`,
    features: ["Adresse prestigieuse", "Réception du courrier", "Permanence téléphonique", "Conformité légale"],
    slug: "domiciliation-luxembourg",
    price: "Dès 150€/mois"
  },
  {
    title: "Gestion de la paie et déclarations CCSS",
    shortTitle: "Gestion de la paie (CCSS)",
    description: "Gestion complète de la paie : fiches de salaires conformes CCSS, déclarations CNS, gestion des congés et portail RH digital pour vos employés.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2" /><path d="M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z" /><path d="M9 12h6" /><path d="M9 16h6" /></svg>`,
    features: ["Fiches de paie CCSS", "Portail employé digital", "Déclarations CNS auto", "Gestion des congés"],
    slug: "gestion-paie-ccss-luxembourg",
    price: "30€ HTVA/salarié"
  },
  {
    title: "Déclarations fiscales (IRC, ICC, IF)",
    shortTitle: "Déclarations fiscales",
    description: "Préparation et dépôt de vos déclarations fiscales (IRC, ICC, IF) et TVA. Conseil en optimisation fiscale et respect de toutes les échéances.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 14l6 -6" /><path d="M11 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-9" /><path d="M9 15l-5 -5h5v5z" /></svg>`,
    features: ["Déclarations IRC/ICC/IF", "Gestion de la TVA", "Optimisation fiscale", "Dépôt électronique"],
    slug: "declarations-fiscales-irc-luxembourg",
    price: "Dès 200€/déclaration"
  },
  {
    title: "Due Diligence & Business Plan",
    shortTitle: "Due diligence & Business Plan",
    description: "Services de conseil premium : due diligence d'acquisition, élaboration de business plans pour investisseurs et valorisation d'entreprise.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" /><path d="M12 7v5l3 3" /></svg>`,
    features: ["Due diligence M&A", "Business plans complets", "Valorisation d'entreprise", "Accompagnement"],
    slug: "due-diligence-business-plan-luxembourg",
    price: "Sur devis",
    popular: true
  },
];

const metaDescription = "Découvrez nos services d'expert-comptable à Luxembourg : comptabilité (BOB50), création de société (SARL), gestion de paie (CCSS), déclarations fiscales et due diligence. Devis gratuit.";

const structuredData = { /* Votre excellent schéma est conservé ici, inchangé */ };
---

<Layout
  title="Services Expert-Comptable Luxembourg | Fiduciaire Expert"
  description={metaDescription}
  canonical="https://www.fiduciaire-expert.lu/services"
  schema={structuredData}
>
  <section class="page-hero">
    <div class="container">
      <p class="breadcrumb">
        <a href="/">Accueil</a> / <span>Services</span>
      </p>
      <h1>Nos services d'expertise comptable</h1>
      <p class="hero-subtitle">
        Des solutions complètes et sur-mesure pour les entrepreneurs et PME au Luxembourg.
        Nous allions rigueur, technologie et conseil stratégique pour garantir votre conformité et optimiser votre croissance.
      </p>
    </div>
  </section>

  <section id="services-list">
    <div class="container">
      <div class="services-grid">
        {allServices.map(service => (
          <article class:list={["service-card", { popular: service.popular }]} itemprop="hasOfferCatalog" itemscope itemtype="https://schema.org/Offer">
            {service.popular && <span class="popular-badge">Populaire</span>}
            <div class="card-header">
              <div class="service-icon" set:html={service.icon} />
              <h2 class="service-title" itemprop="name">{service.shortTitle}</h2>
            </div>
            <p class="service-description" itemprop="description">{service.description}</p>
            <ul class="service-features">
              {service.features.map(feature => <li>✓ {feature}</li>)}
            </ul>
            <div class="card-footer">
              <div class="service-price" itemprop="priceSpecification" itemscope itemtype="https://schema.org/PriceSpecification">
                <meta itemprop="priceCurrency" content="EUR" />
                <span itemprop="price">{service.price}</span>
              </div>
              <a href={`/contact?service=${service.slug}`} class="btn btn-secondary">
                Demander un devis
              </a>
            </div>
            <meta itemprop="url" content={`https://www.fiduciaire-expert.lu/services/${service.slug}`} />
          </article>
        ))}
      </div>
    </div>
  </section>
  
  <section id="faq">
    <div class="container">
      <div class="section-header">
        <h2>Questions Fréquentes</h2>
        <p>Réponses claires à vos interrogations sur nos services.</p>
      </div>
      <div class="faq-grid">
        <details class="faq-item">
          <summary>Quels sont vos tarifs pour la comptabilité d'une PME ?</summary>
          <div class="faq-answer">Nos budgets de comptabilité pour PME débutent à 299€ HTVA/mois. Ce tarif varie selon le volume de transactions et la complexité de votre activité. Contactez-nous pour un devis personnalisé et transparent.</div>
        </details>
        <details class="faq-item">
          <summary>En combien de temps ma SARL peut-elle être créée ?</summary>
          <div class="faq-answer">Le processus complet de création d'une SARL, incluant la rédaction des statuts, le passage chez le notaire et l'immatriculation au RCS, prend généralement entre 5 et 7 jours ouvrables.</div>
        </details>
        <details class="faq-item">
          <summary>Gérez-vous également les déclarations pour les indépendants ?</summary>
          <div class="faq-answer">Absolument. Nous offrons des services complets de comptabilité et de déclarations fiscales (impôt sur le revenu, TVA) spécifiquement adaptés aux travailleurs indépendants au Luxembourg.</div>
        </details>
      </div>
    </div>
  </section>

  <section id="cta">
    <div class="container cta-container">
      <h2>Prêt à optimiser votre gestion ?</h2>
      <p>Discutons de votre projet. Contactez-nous pour une première consultation gratuite et sans engagement.</p>
      <a href="/contact" class="btn btn-primary">Prendre rendez-vous</a>
    </div>
  </section>

</Layout>

<style>
  /* ===== STYLE COHÉRENT AVEC INDEX.ASTRO ===== */
  
  /* Section Héros - Style élégant avec gradient subtil */
  .page-hero {
    background: linear-gradient(135deg, var(--color-background) 0%, #f0f4f8 100%);
    padding: var(--spacing-xl) 0;
    text-align: center;
    position: relative;
    overflow: hidden;
  }
  
  .page-hero::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -20%;
    width: 60%;
    height: 200%;
    background: radial-gradient(circle, rgba(0, 95, 204, 0.05) 0%, transparent 70%);
    pointer-events: none;
  }
  
  .page-hero .container {
    position: relative;
    z-index: 1;
  }
  
  .breadcrumb {
    font-size: 0.875rem;
    color: var(--color-text-secondary);
    margin-bottom: 1.5rem;
    display: inline-block;
    padding: 0.5rem 1rem;
    background-color: rgba(0, 95, 204, 0.08);
    border: 1px solid rgba(0, 95, 204, 0.2);
    border-radius: 24px;
  }
  
  .breadcrumb a {
    color: var(--color-primary);
    font-weight: 500;
  }
  
  .breadcrumb a:hover {
    text-decoration: underline;
  }
  
  .page-hero h1 {
    margin-bottom: 1.5rem;
    font-size: clamp(2rem, 5vw, 3rem);
    background: linear-gradient(135deg, var(--color-dark) 0%, var(--color-primary) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .hero-subtitle {
    font-size: var(--font-size-xl);
    color: var(--color-text-secondary);
    max-width: 720px;
    margin: 0 auto;
    line-height: 1.7;
  }

  /* Grille des Services - Cartes modernes avec animation */
  #services-list {
    padding: var(--spacing-xl) 0;
    background-color: var(--color-background-alt);
  }
  
  .services-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
  }

  .service-card {
    background-color: var(--color-background);
    border: 1px solid rgba(222, 226, 230, 0.5);
    border-radius: 12px;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }
  
  .service-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--color-primary) 0%, #0047a3 100%);
    transform: translateX(-100%);
    transition: transform 0.3s ease;
  }
  
  .service-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.08);
    border-color: transparent;
  }
  
  .service-card:hover::before {
    transform: translateX(0);
  }
  
  .service-card.popular {
    border-color: rgba(0, 95, 204, 0.3);
    background: linear-gradient(to bottom, rgba(0, 95, 204, 0.02) 0%, var(--color-background) 50%);
  }

  .popular-badge {
    position: absolute;
    top: 1.5rem;
    right: 1.5rem;
    background: linear-gradient(135deg, var(--color-primary) 0%, #0047a3 100%);
    color: var(--color-background);
    padding: 0.375rem 1rem;
    font-size: 0.8rem;
    font-weight: 600;
    border-radius: 20px;
    box-shadow: 0 2px 8px rgba(0, 95, 204, 0.3);
  }
  
  .card-header {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 1.5rem;
  }
  
  .service-icon {
    color: var(--color-primary);
    flex-shrink: 0;
  }

  .service-title {
    font-size: 1.375rem;
    color: var(--color-dark);
    margin: 0;
    line-height: 1.3;
  }

  .service-description {
    color: var(--color-text-secondary);
    line-height: 1.7;
    flex-grow: 1;
    margin-bottom: 1.5rem;
  }

  .service-features {
    list-style: none;
    padding: 0;
    margin: 0 0 2rem 0;
  }
  
  .service-features li {
    padding: 0.5rem 0;
    color: var(--color-text-secondary);
    position: relative;
    padding-left: 1.5rem;
  }
  
  .service-features li::before {
    content: '✓';
    position: absolute;
    left: 0;
    color: var(--color-primary);
    font-weight: 700;
  }

  .card-footer {
    border-top: 1px solid rgba(222, 226, 230, 0.3);
    padding-top: 1.5rem;
    margin-top: auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
  }

  .service-price {
    font-weight: 700;
    font-size: var(--font-size-lg);
    color: var(--color-dark);
  }
  
  .card-footer .btn {
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    font-size: 0.875rem;
  }
  
  .card-footer .btn-secondary {
    background-color: transparent;
    border: 2px solid var(--color-primary);
    color: var(--color-primary);
  }
  
  .card-footer .btn-secondary:hover {
    background-color: var(--color-primary);
    color: var(--color-background);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 95, 204, 0.2);
  }

  /* Section FAQ - Design moderne aligné avec index */
  #faq {
    background-color: var(--color-background);
    padding: var(--spacing-xl) 0;
  }
  
  .section-header {
    text-align: center;
    margin-bottom: 3rem;
  }
  
  .section-header h2 {
    font-size: clamp(1.75rem, 4vw, 2.25rem);
    margin-bottom: 1rem;
  }
  
  .section-header p {
    font-size: var(--font-size-lg);
    color: var(--color-text-secondary);
    max-width: 600px;
    margin: 0 auto;
  }
  
  .faq-grid {
    max-width: 800px;
    margin: 0 auto;
    display: grid;
    gap: 1.25rem;
  }
  
  .faq-item {
    background-color: var(--color-background);
    border: 1px solid rgba(222, 226, 230, 0.5);
    border-radius: 12px;
    overflow: hidden;
    transition: all 0.2s ease;
  }
  
  .faq-item:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  }
  
  .faq-item summary {
    font-size: var(--font-size-lg);
    font-weight: 600;
    padding: 1.5rem 3rem 1.5rem 1.5rem;
    cursor: pointer;
    position: relative;
    transition: all 0.2s ease;
    list-style: none;
  }
  
  .faq-item summary::-webkit-details-marker {
    display: none;
  }
  
  .faq-item summary:hover {
    background-color: rgba(0, 95, 204, 0.03);
  }
  
  .faq-item summary::after {
    content: '+';
    position: absolute;
    top: 50%;
    right: 1.5rem;
    transform: translateY(-50%);
    font-size: 1.5rem;
    font-weight: 300;
    color: var(--color-primary);
    transition: transform 0.2s ease;
  }
  
  .faq-item[open] summary {
    background-color: rgba(0, 95, 204, 0.05);
    color: var(--color-primary);
  }
  
  .faq-item[open] summary::after {
    content: '−';
    transform: translateY(-50%) rotate(180deg);
  }
  
  .faq-answer {
    padding: 0 1.5rem 1.5rem 1.5rem;
    color: var(--color-text-secondary);
    line-height: 1.7;
  }

  /* Section CTA - Design premium aligné avec index */
  #cta {
    background: linear-gradient(135deg, var(--color-dark) 0%, #1a2742 100%);
    color: var(--color-background);
    padding: var(--spacing-xl) 0;
    position: relative;
    overflow: hidden;
  }
  
  #cta::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -20%;
    width: 60%;
    height: 200%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.05) 0%, transparent 70%);
    pointer-events: none;
  }
  
  .cta-container {
    text-align: center;
    position: relative;
    z-index: 1;
  }
  
  #cta h2 {
    color: var(--color-background);
    max-width: 700px;
    margin: 0 auto 1.5rem;
    font-size: clamp(1.75rem, 4vw, 2.5rem);
  }
  
  #cta p {
    color: rgba(255, 255, 255, 0.85);
    max-width: 600px;
    margin: 0 auto 2rem;
    font-size: var(--font-size-lg);
    line-height: 1.7;
  }
  
  #cta .btn-primary {
    background-color: var(--color-primary);
    color: var(--color-background);
    padding: 1rem 2.5rem;
    border-radius: 8px;
    font-weight: 600;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  
  #cta .btn-primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.2);
  }
  
  /* Animations subtiles */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .service-card,
  .faq-item {
    animation: fadeInUp 0.6s ease-out;
    animation-fill-mode: both;
  }
  
  .service-card:nth-child(1) { animation-delay: 0.1s; }
  .service-card:nth-child(2) { animation-delay: 0.15s; }
  .service-card:nth-child(3) { animation-delay: 0.2s; }
  .service-card:nth-child(4) { animation-delay: 0.25s; }
  .service-card:nth-child(5) { animation-delay: 0.3s; }
  .service-card:nth-child(6) { animation-delay: 0.35s; }
  
  /* Responsive */
  @media (max-width: 768px) {
    .services-grid {
      grid-template-columns: 1fr;
    }
    
    .card-footer {
      flex-direction: column;
      align-items: stretch;
      gap: 1rem;
    }
    
    .card-footer .btn {
      width: 100%;
      text-align: center;
    }
  }
</style>