---
import Layout from '../layouts/Layout.astro';

// Données structurées enrichies
const contactSchema = {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "ContactPage",
      "name": "Contact Expert-Comptable Luxembourg",
      "description": "Contactez Fiduciaire Expert Luxembourg pour une consultation gratuite. Expert-comptable agréé, réponse sous 24h.",
      "url": "https://www.fiduciaire-expert.lu/contact"
    },
    {
      "@type": "LocalBusiness",
      "name": "Fiduciaire Expert Luxembourg",
      "image": "https://www.fiduciaire-expert.lu/images/bureau.jpg",
      "telephone": "+352-XX-XX-XX-XX",
      "email": "contact@fiduciaire-expert.lu",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "25 Boulevard Royal",
        "addressLocality": "Luxembourg",
        "postalCode": "L-2449",
        "addressCountry": "LU"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": "49.6117",
        "longitude": "6.1300"
      },
      "openingHoursSpecification": {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
        "opens": "08:30",
        "closes": "18:00"
      },
      "priceRange": "€€"
    }
  ]
};

const metaDescription = "Contact Expert-Comptable Luxembourg ✓ Consultation gratuite ✓ Devis 24h ✓ Bureau Luxembourg-Ville ✓ +352 XX XX XX XX ✓ 15 ans expérience";
---

<Layout 
  title="Contact Expert-Comptable Luxembourg | Consultation Gratuite"
  description={metaDescription}
  canonical="https://www.fiduciaire-expert.lu/contact"
  schema={contactSchema}
>
  <main class="contact-page">

    <!-- Hero minimal -->
    <section class="hero">
      <div class="container">
        <h1>Contactez votre Expert-Comptable</h1>
        <p class="hero-subtitle">
          Première consultation gratuite • Réponse sous 24h
        </p>
      </div>
    </section>

    <!-- Contact rapide -->
    <section class="quick-contact">
      <div class="container">
        <div class="contact-grid">
          <a href="tel:+352XXXXXX" class="contact-method">
            <div class="contact-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
              </svg>
            </div>
            <h3>Appeler</h3>
            <p>+352 XX XX XX XX</p>
            <span class="contact-note">Lun-Ven 8h30-18h00</span>
          </a>
          
          <a href="mailto:contact@fiduciaire-expert.lu" class="contact-method">
            <div class="contact-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                <polyline points="22,6 12,13 2,6"/>
              </svg>
            </div>
            <h3>Email</h3>
            <p>contact@fiduciaire-expert.lu</p>
            <span class="contact-note">Réponse sous 24h</span>
          </a>
          
          <div class="contact-method">
            <div class="contact-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                <circle cx="12" cy="10" r="3"/>
              </svg>
            </div>
            <h3>Bureau</h3>
            <p>25 Boulevard Royal</p>
            <span class="contact-note">L-2449 Luxembourg</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Formulaire et infos -->
    <section class="main-content">
      <div class="container">
        <div class="content-grid">
          
          <!-- Formulaire épuré -->
          <div class="form-section">
            <h2>Demande de devis gratuit</h2>
            <p class="form-intro">
              Décrivez votre besoin, nous vous répondons sous 24h avec une proposition personnalisée.
            </p>
            
            <form 
              name="contact" 
              method="POST" 
              action="/contact/merci" 
              data-netlify="true" 
              netlify-honeypot="bot-field"
            >
              <input type="hidden" name="form-name" value="contact" />
              <p class="hidden">
                <label>Ne pas remplir : <input name="bot-field" /></label>
              </p>
              
              <div class="form-row">
                <div class="form-field">
                  <label for="prenom">Prénom</label>
                  <input type="text" id="prenom" name="prenom" required />
                </div>
                <div class="form-field">
                  <label for="nom">Nom</label>
                  <input type="text" id="nom" name="nom" required />
                </div>
              </div>
              
              <div class="form-field">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" required />
              </div>
              
              <div class="form-field">
                <label for="telephone">Téléphone <span class="optional">(optionnel)</span></label>
                <input type="tel" id="telephone" name="telephone" placeholder="+352..." />
              </div>
              
              <div class="form-field">
                <label for="entreprise">Société <span class="optional">(optionnel)</span></label>
                <input type="text" id="entreprise" name="entreprise" />
              </div>
              
              <div class="form-field">
                <label for="service">Service souhaité</label>
                <select id="service" name="service" required>
                  <option value="">Sélectionnez un service</option>
                  <option value="comptabilite">Comptabilité</option>
                  <option value="creation-societe">Création société</option>
                  <option value="fiscalite">Déclarations fiscales</option>
                  <option value="domiciliation">Domiciliation</option>
                  <option value="gestion-paie">Gestion paie</option>
                  <option value="conseil">Conseil fiscal</option>
                  <option value="autre">Autre besoin</option>
                </select>
              </div>
              
              <div class="form-field">
                <label for="message">Votre message</label>
                <textarea 
                  id="message" 
                  name="message" 
                  rows="4" 
                  required
                  placeholder="Décrivez brièvement votre besoin..."
                ></textarea>
              </div>
              
              <div class="form-consent">
                <label>
                  <input type="checkbox" name="consent" required />
                  <span>J'accepte d'être contacté par Fiduciaire Expert concernant ma demande</span>
                </label>
              </div>
              
              <button type="submit" class="submit-button">
                Envoyer ma demande
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="5" y1="12" x2="19" y2="12"></line>
                  <polyline points="12 5 19 12 12 19"></polyline>
                </svg>
              </button>
            </form>
          </div>
          
          <!-- Informations pratiques -->
          <aside class="info-section">
            <div class="info-card">
              <h3>Informations pratiques</h3>
              
              <div class="info-block">
                <h4>Horaires d'ouverture</h4>
                <p>Lundi - Vendredi : 8h30 - 18h00<br>
                Samedi - Dimanche : Fermé</p>
              </div>
              
              <div class="info-block">
                <h4>Adresse complète</h4>
                <address>
                  Fiduciaire Expert Luxembourg<br>
                  25 Boulevard Royal<br>
                  L-2449 Luxembourg<br>
                  Grand-Duché de Luxembourg
                </address>
              </div>
              
              <div class="info-block">
                <h4>Accès</h4>
                <p>
                  <strong>Bus :</strong> Lignes 1, 16, 125<br>
                  <strong>Parking :</strong> Royal-Hamilius<br>
                  <strong>Tram :</strong> Arrêt Hamilius
                </p>
              </div>
              
              <div class="map-container">
                <img 
                  src="/images/map-placeholder.jpg" 
                  alt="Plan d'accès Fiduciaire Expert Luxembourg"
                  loading="lazy"
                />
              </div>
            </div>
          </aside>
          
        </div>
      </div>
    </section>

    <!-- FAQ minimaliste -->
    <section class="faq">
      <div class="container">
        <h2>Questions fréquentes</h2>
        
        <div class="faq-grid">
          <details class="faq-item">
            <summary>
              La première consultation est-elle payante ?
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </summary>
            <p>
              Non, la première consultation est entièrement gratuite et sans engagement. 
              Elle nous permet de comprendre vos besoins et de vous proposer une solution adaptée.
            </p>
          </details>
          
          <details class="faq-item">
            <summary>
              Sous quel délai puis-je obtenir un devis ?
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </summary>
            <p>
              Nous nous engageons à vous répondre sous 24h ouvrées maximum. 
              Pour les demandes urgentes, appelez-nous directement.
            </p>
          </details>
          
          <details class="faq-item">
            <summary>
              Proposez-vous des rendez-vous en visioconférence ?
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </summary>
            <p>
              Oui, nous proposons des consultations par visioconférence (Teams, Zoom) 
              pour votre confort. Idéal pour un premier contact ou un suivi régulier.
            </p>
          </details>
        </div>
      </div>
    </section>

  </main>

  <script type="application/ld+json" set:html={JSON.stringify(contactSchema)} />
</Layout>

<style>
  /* Variables */
  :root {
    --blue-primary: #3498db;
    --blue-dark: #2c3e50;
    --gray-light: #f8f9fa;
    --gray-medium: #e9ecef;
    --gray-dark: #6c757d;
    --white: #ffffff;
    --text-primary: #2c3e50;
    --text-secondary: #6c757d;
    --border-radius: 8px;
    --transition: all 0.3s ease;
  }

  /* Reset */
  * {
    box-sizing: border-box;
  }

  /* Container */
  .container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  .hidden {
    display: none;
  }

  /* Hero minimal */
  .hero {
    background: linear-gradient(135deg, var(--gray-light) 0%, var(--white) 100%);
    padding: 4rem 0 3rem;
    text-align: center;
    border-bottom: 1px solid var(--gray-medium);
  }

  .hero h1 {
    font-size: 2.5rem;
    color: var(--blue-dark);
    margin: 0 0 1rem;
    font-weight: 600;
  }

  .hero-subtitle {
    font-size: 1.125rem;
    color: var(--text-secondary);
    margin: 0;
  }

  /* Contact rapide */
  .quick-contact {
    padding: 3rem 0;
    background: var(--white);
  }

  .contact-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
  }

  .contact-method {
    text-align: center;
    padding: 2rem;
    background: var(--gray-light);
    border-radius: var(--border-radius);
    text-decoration: none;
    color: inherit;
    transition: var(--transition);
    border: 1px solid transparent;
  }

  .contact-method:hover {
    background: var(--white);
    border-color: var(--blue-primary);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(52, 152, 219, 0.15);
  }

  .contact-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 56px;
    height: 56px;
    background: var(--white);
    border-radius: 50%;
    margin-bottom: 1rem;
    color: var(--blue-primary);
  }

  .contact-method:hover .contact-icon {
    background: var(--blue-primary);
    color: var(--white);
  }

  .contact-method h3 {
    font-size: 1.125rem;
    color: var(--text-primary);
    margin: 0 0 0.5rem;
  }

  .contact-method p {
    font-size: 1rem;
    color: var(--text-primary);
    margin: 0 0 0.25rem;
    font-weight: 500;
  }

  .contact-note {
    font-size: 0.875rem;
    color: var(--text-secondary);
  }

  /* Main content */
  .main-content {
    padding: 4rem 0;
    background: var(--gray-light);
  }

  .content-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 3rem;
  }

  /* Formulaire */
  .form-section {
    background: var(--white);
    padding: 3rem;
    border-radius: var(--border-radius);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .form-section h2 {
    font-size: 1.75rem;
    color: var(--text-primary);
    margin: 0 0 0.5rem;
  }

  .form-intro {
    color: var(--text-secondary);
    margin: 0 0 2rem;
  }

  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }

  .form-field {
    margin-bottom: 1.5rem;
  }

  .form-field label {
    display: block;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
  }

  .optional {
    color: var(--text-secondary);
    font-weight: normal;
  }

  .form-field input,
  .form-field select,
  .form-field textarea {
    width: 100%;
    padding: 0.75rem 1rem;
    border: 1px solid var(--gray-medium);
    border-radius: var(--border-radius);
    font-size: 1rem;
    transition: var(--transition);
    background: var(--white);
  }

  .form-field input:focus,
  .form-field select:focus,
  .form-field textarea:focus {
    outline: none;
    border-color: var(--blue-primary);
    box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
  }

  .form-field textarea {
    resize: vertical;
    min-height: 100px;
  }

  .form-consent {
    margin: 1.5rem 0;
  }

  .form-consent label {
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
    cursor: pointer;
    font-size: 0.875rem;
    color: var(--text-secondary);
  }

  .form-consent input[type="checkbox"] {
    margin-top: 0.125rem;
  }

  .submit-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem 2rem;
    background: var(--blue-primary);
    color: var(--white);
    border: none;
    border-radius: var(--border-radius);
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
  }

  .submit-button:hover {
    background: #2980b9;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
  }

  /* Info section */
  .info-card {
    background: var(--white);
    padding: 2rem;
    border-radius: var(--border-radius);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    position: sticky;
    top: 2rem;
  }

  .info-card h3 {
    font-size: 1.25rem;
    color: var(--text-primary);
    margin: 0 0 1.5rem;
  }

  .info-block {
    margin-bottom: 1.5rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid var(--gray-medium);
  }

  .info-block:last-of-type {
    border-bottom: none;
  }

  .info-block h4 {
    font-size: 0.875rem;
    color: var(--blue-primary);
    margin: 0 0 0.5rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .info-block p,
  .info-block address {
    font-size: 0.875rem;
    color: var(--text-secondary);
    line-height: 1.6;
    font-style: normal;
    margin: 0;
  }

  .map-container {
    margin-top: 1.5rem;
    border-radius: var(--border-radius);
    overflow: hidden;
    height: 200px;
    background: var(--gray-light);
  }

  .map-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* FAQ */
  .faq {
    padding: 4rem 0;
    background: var(--white);
  }

  .faq h2 {
    text-align: center;
    font-size: 2rem;
    color: var(--text-primary);
    margin: 0 0 3rem;
  }

  .faq-grid {
    max-width: 700px;
    margin: 0 auto;
  }

  .faq-item {
    margin-bottom: 1rem;
    background: var(--gray-light);
    border-radius: var(--border-radius);
    overflow: hidden;
  }

  .faq-item summary {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.25rem 1.5rem;
    cursor: pointer;
    font-weight: 500;
    color: var(--text-primary);
    list-style: none;
    transition: var(--transition);
  }

  .faq-item summary::-webkit-details-marker {
    display: none;
  }

  .faq-item summary:hover {
    background: var(--gray-medium);
  }

  .faq-item summary svg {
    color: var(--blue-primary);
    transition: transform 0.3s ease;
  }

  .faq-item[open] summary svg {
    transform: rotate(180deg);
  }

  .faq-item p {
    padding: 0 1.5rem 1.5rem;
    margin: 0;
    color: var(--text-secondary);
    line-height: 1.6;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .hero h1 {
      font-size: 2rem;
    }

    .contact-grid {
      grid-template-columns: 1fr;
    }

    .content-grid {
      grid-template-columns: 1fr;
    }

    .form-section {
      padding: 2rem;
    }

    .form-row {
      grid-template-columns: 1fr;
    }

    .info-card {
      position: static;
    }

    .faq-item summary {
      padding: 1rem;
    }
  }

  @media (max-width: 480px) {
    .container {
      padding: 0 1rem;
    }

    .form-section {
      padding: 1.5rem;
    }
  }
</style>