---
import Layout from '../layouts/Layout.astro'; // Assurez-vous que le chemin est correct

// Données structurées optimisées pour la section des services.
// Ce schéma détaille chaque service comme une offre distincte, ce qui aide
// Google à comprendre et potentiellement afficher vos services dans les résultats de recherche.
const servicesSchema = {
  "@context": "https://schema.org",
  "@type": "AccountingService",
  "provider": {
    "@type": "Organization",
    "name": "Fiduciaire Expert Luxembourg",
    "url": "https://www.fiduciaire-expert.lu"
  },
  "areaServed": {
    "@type": "Country",
    "name": "Luxembourg"
  },
  "serviceType": [
    "Tenue comptable",
    "Déclarations fiscales",
    "Création de société",
    "Gestion de la paie",
    "Business Plan",
    "Conseil fiscal"
  ],
  "hasOfferCatalog": {
    "@type": "OfferCatalog",
    "name": "Services d'Expertise Comptable au Luxembourg",
    "itemListElement": [
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "serviceType": "Tenue comptable",
          "name": "Comptabilité et Déclarations Fiscales",
          "description": "Gestion complète de votre comptabilité, déclarations TVA, et établissement des bilans annuels conformément à la législation luxembourgeoise.",
          "url": "https://www.fiduciaire-expert.lu/services#comptabilite"
        }
      },
      {
        "@type": "Offer", 
        "itemOffered": {
          "@type": "Service",
          "serviceType": "Création de société",
          "name": "Création de Société (SARL, SA, SCI)",
          "description": "Accompagnement complet pour la constitution de votre société au Luxembourg en 5 jours, incluant la rédaction des statuts et les formalités RCSL.",
          "url": "https://www.fiduciaire-expert.lu/services#creation"
        }
      },
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service", 
          "serviceType": "Gestion de la paie",
          "name": "Gestion de la Paie et RH",
          "description": "Externalisation de vos fiches de paie, déclarations CCSS, et conseil en droit social luxembourgeois.",
          "url": "https://www.fiduciaire-expert.lu/services#paie"
        }
      },
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service", 
          "serviceType": "Conseil fiscal",
          "name": "Business Plan et Conseil Stratégique",
          "description": "Élaboration de business plans pour financements et investisseurs, et conseil fiscal pour optimiser votre situation.",
          "url": "https://www.fiduciaire-expert.lu/services#conseil"
        }
      }
    ]
  }
};
---

<section id="services" class="services" aria-labelledby="services-title">
  <div class="container">
    <header class="services__header">
      <span class="section-tag">Nos Solutions</span>
      <h2 id="services-title" class="section-title">Des services sur mesure pour votre succès</h2>
      <p class="section-subtitle">
        Nous couvrons tous les aspects de la gestion d'entreprise pour les PME et entrepreneurs au Luxembourg.
      </p>
    </header>
    
    <div class="services__grid">
      
      <!-- Carte 1: Comptabilité -->
      <article class="service-card">
        <div class="service-card__icon-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 3m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z" /><path d="M8 7m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v1a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z" /><path d="M8 14l0 .01" /><path d="M12 14l0 .01" /><path d="M16 14l0 .01" /><path d="M8 17l0 .01" /><path d="M12 17l0 .01" /><path d="M16 17l0 .01" /></svg>
        </div>
        <h3 class="service-card__title">Comptabilité & Fiscalité</h3>
        <p class="service-card__description">
          Tenue complète, déclarations TVA, bilans annuels (eCDF) et optimisation fiscale (IRC) pour une conformité parfaite.
        </p>
        <div class="service-card__features">
          <span>✓ Déclarations TVA</span>
          <span>✓ Bilans eCDF</span>
          <span>✓ Conseil fiscal</span>
        </div>
        <a href="/services#comptabilite" class="service-card__link" aria-label="En savoir plus sur la comptabilité et fiscalité">
          Détails du service →
        </a>
      </article>

      <!-- Carte 2: Création Société (Populaire) -->
      <article class="service-card service-card--featured">
        <div class="service-card__badge">Populaire</div>
        <div class="service-card__icon-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" /><path d="M13.5 6.5l4 4" /></svg>
        </div>
        <h3 class="service-card__title">Création de Société</h3>
        <p class="service-card__description">
          Constitution rapide de votre SARL, SA, ou SCI. Nous gérons toutes les formalités, de la rédaction des statuts au RCSL.
        </p>
        <div class="service-card__features">
          <span>✓ SARL, SA, SCI</span>
          <span>✓ Formalités RCSL</span>
          <span>✓ Délai 5 jours</span>
        </div>
        <a href="/services#creation" class="service-card__link" aria-label="En savoir plus sur la création de société">
          Créer ma société →
        </a>
      </article>

      <!-- Carte 3: Gestion Paie -->
      <article class="service-card">
        <div class="service-card__icon-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="9" r="4"></circle></svg>
        </div>
        <h3 class="service-card__title">Gestion de la Paie</h3>
        <p class="service-card__description">
          Externalisez vos fiches de paie, déclarations CCSS et gestion des congés. Bénéficiez de notre expertise en droit social.
        </p>
        <div class="service-card__features">
          <span>✓ Fiches de paie</span>
          <span>✓ Déclarations CCSS</span>
          <span>✓ Conseil RH</span>
        </div>
        <a href="/services#paie" class="service-card__link" aria-label="En savoir plus sur la gestion de la paie">
          Détails du service →
        </a>
      </article>
      
      <!-- Carte 4: Conseil -->
      <article class="service-card">
        <div class="service-card__icon-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 8a3 3 0 0 1 0 6" /><path d="M10 8v11a1 1 0 0 1 -1 1h-1a1 1 0 0 1 -1 -1v-5" /><path d="M12 8h0l4.524 -3.77a0.9 .9 0 0 1 1.476 .692v12.156a0.9 .9 0 0 1 -1.476 .692l-4.524 -3.77h-8a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h8" /></svg>
        </div>
        <h3 class="service-card__title">Business Plan & Conseil</h3>
        <p class="service-card__description">
          Élaboration de business plans pour investisseurs et banques. Conseil stratégique pour optimiser votre croissance et fiscalité.
        </p>
        <div class="service-card__features">
          <span>✓ Business plan</span>
          <span>✓ Optimisation fiscale</span>
          <span>✓ Conseil stratégique</span>
        </div>
        <a href="/services#conseil" class="service-card__link" aria-label="En savoir plus sur le business plan et le conseil">
          Détails du service →
        </a>
      </article>

    </div>
    
    <div class="services__cta">
      <h3 class="services__cta-title">Besoin d'un accompagnement sur mesure ?</h3>
      <p class="services__cta-subtitle">Discutons de vos besoins spécifiques. Notre premier entretien est offert.</p>
      <a href="/contact" class="btn btn--primary" aria-label="Demander un devis personnalisé">
        Demander un devis personnalisé
      </a>
    </div>
  </div>
  
  <script type="application/ld+json" set:html={JSON.stringify(servicesSchema)} />
</section>

<style>
  /* ===== Variables et Styles de Base (à placer dans un fichier global si possible) ===== */
  :root {
    --color-primary: #0055A4;
    --color-gold: #D4AF37;
    --color-dark: #1B2A38;
    --color-body: #4A5568;
    --color-light: #F7FAFC;
    --color-white: #FFFFFF;
    --color-border: #E2E8F0;
    --font-sans: 'Inter', sans-serif;
    --font-heading: 'Poppins', sans-serif;
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --radius-md: 8px;
    --radius-lg: 16px;
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Styles globaux réutilisés */
  .container { width: 100%; max-width: 1200px; margin-inline: auto; padding-inline: 1.5rem; }
  .section-tag { display: inline-block; background-color: var(--color-light); color: var(--color-primary); padding: 0.25rem 0.75rem; border-radius: 99px; font-size: 0.875rem; font-weight: 600; margin-bottom: 0.75rem; }
  .section-title { font-family: var(--font-heading); font-size: clamp(2rem, 5vw, 2.75rem); color: var(--color-dark); margin: 0; }
  .section-subtitle { font-size: 1.125rem; color: var(--color-body); margin-top: 1rem; line-height: 1.6; }
  .btn { display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; padding: 0.75rem 1.5rem; border-radius: var(--radius-md); font-weight: 600; text-decoration: none; transition: var(--transition); border: 2px solid transparent; cursor: pointer; }
  .btn--primary { background-color: var(--color-gold); color: var(--color-dark); }
  .btn--primary:hover { background-color: #e7c86a; transform: translateY(-3px); box-shadow: var(--shadow-md); }

  /* ===== Section Services ===== */
  .services {
    background-color: var(--color-white);
    padding-block: clamp(3rem, 8vw, 6rem);
  }

  .services__header {
    text-align: center;
    max-width: 700px;
    margin: 0 auto 4rem;
  }

  .services__grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
  }

  /* Styles des cartes de service */
  .service-card {
    background-color: var(--color-light);
    border: 1px solid var(--color-border);
    padding: 2rem;
    border-radius: var(--radius-lg);
    display: flex;
    flex-direction: column;
    transition: var(--transition);
    position: relative;
    text-align: left;
  }

  .service-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-lg);
    border-color: var(--color-gold);
  }

  .service-card--featured {
    background-color: var(--color-white);
    border-color: var(--color-gold);
    box-shadow: var(--shadow-md);
  }
  
  .service-card__badge {
    position: absolute;
    top: 1.5rem;
    right: 1.5rem;
    background: var(--color-gold);
    color: var(--color-dark);
    padding: 0.25rem 0.75rem;
    border-radius: 99px;
    font-size: 0.8rem;
    font-weight: 700;
  }

  .service-card__icon-wrapper {
    display: inline-flex;
    padding: 0.75rem;
    background-color: var(--color-white);
    border-radius: 50%;
    margin-bottom: 1.5rem;
    color: var(--color-primary);
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--color-border);
  }
  
  .service-card--featured .service-card__icon-wrapper {
    background-color: var(--color-gold);
    color: var(--color-dark);
    border-color: transparent;
  }

  .service-card__title {
    font-family: var(--font-heading);
    font-size: 1.375rem;
    color: var(--color-dark);
    margin: 0 0 0.75rem;
  }

  .service-card__description {
    color: var(--color-body);
    margin: 0 0 1.5rem;
    line-height: 1.6;
    flex-grow: 1; /* Pousse le lien en bas */
  }
  
  .service-card__features {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
  }
  
  .service-card__features span {
    background-color: var(--color-white);
    border: 1px solid var(--color-border);
    color: var(--color-body);
    padding: 0.25rem 0.75rem;
    border-radius: 99px;
    font-size: 0.8rem;
    font-weight: 500;
  }

  .service-card__link {
    color: var(--color-primary);
    font-weight: 600;
    text-decoration: none;
    transition: var(--transition);
  }
  .service-card__link:hover {
    color: var(--color-gold);
    text-decoration: underline;
  }
  
  /* CTA en bas de section */
  .services__cta {
    margin-top: 4rem;
    text-align: center;
    background-color: var(--color-light);
    padding: 3rem 2rem;
    border-radius: var(--radius-lg);
  }
  .services__cta-title {
    font-family: var(--font-heading);
    font-size: 1.8rem;
    color: var(--color-dark);
    margin: 0 0 0.75rem;
  }
  .services__cta-subtitle {
    color: var(--color-body);
    margin: 0 auto 2rem;
    max-width: 500px;
  }
</style>
